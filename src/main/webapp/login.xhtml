<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:o="http://omnifaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xml:lang="pl">

<h:head>
    <title>Login</title>
</h:head>
<f:metadata>
    <f:event listener="#{loginController.isLogged}" type="preRenderView"/>
</f:metadata>
<h:body>

    <div>
        <div>
            <h:form>
                <div>
                    <o:outputLabel for="email" value="#{login_msg.email}"/>
                    <h:inputText id="email" binding="#{usernameBinding}"  value="#{loginController.email}"
                                 p:autofocus="autofocus"/>
                </div>

                <div>
                    <o:outputLabel for="password" value="#{login_msg.password}"/>
                    <h:inputSecret id="password" binding="#{passwordBinding}" value="#{loginController.password}"/>
                </div>

                <div jsf:rendered="#{(not loginController.errorComponent.valid)
                or (!usernameBinding.valid) or (!passwordBinding.valid)}">
                    <h:message for="email"/>
                    <h:message for="password"/>
                    <h:message for="loginError"/>
                </div>

                <h:inputHidden id="loginError" binding="#{loginController.errorComponent}"/>

                <button type="submit" jsf:action="#{loginController.login}"><i
                        class=""></i> Zaloguj
                </button>
            </h:form>

        </div>
    </div>

</h:body>
</html>
